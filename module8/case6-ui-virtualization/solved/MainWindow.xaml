<Window x:Class="UIVirtualization.Solved.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="UI Virtualization - Solved" 
        Height="450" Width="600"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Title -->
        <TextBlock Grid.Row="0" 
                   Text="✅ Seleção de Cliente (COM Virtualização)" 
                   FontSize="20" 
                   FontWeight="Bold" 
                   Foreground="#27AE60"
                   Margin="0,0,0,20"/>

        <!-- Info -->
        <TextBlock Grid.Row="1" 
                   TextWrapping="Wrap"
                   Margin="0,0,0,10">
            <Run Text="✅ SOLUÇÃO: " FontWeight="Bold" Foreground="#27AE60"/>
            <Run Text="VirtualizingStackPanel cria apenas elementos visíveis."/>
            <LineBreak/>
            <Run Text="• Tela abre instantaneamente (&lt; 100ms)"/>
            <LineBreak/>
            <Run Text="• Dropdown responsivo"/>
            <LineBreak/>
            <Run Text="• Baixo uso de memória visual"/>
            <LineBreak/>
            <Run Text="• Scroll smooth (Recycling mode)"/>
        </TextBlock>

        <!-- ComboBox Label -->
        <TextBlock Grid.Row="2" 
                   Text="Selecione um cliente:" 
                   FontWeight="Bold"
                   Margin="0,10,0,5"/>

        <!-- ComboBox COM Virtualization -->
        <ComboBox x:Name="ClientesComboBox"
                  AutomationProperties.AutomationId="ClientesComboBox"
                  Grid.Row="3"
                  Height="30"
                  Margin="0,0,0,20"
                  DisplayMemberPath="Nome"
                  SelectedValuePath="Id"
                  VirtualizingPanel.IsVirtualizing="True"
                  VirtualizingPanel.VirtualizationMode="Recycling"
                  VirtualizingPanel.CacheLength="20"
                  VirtualizingPanel.CacheLengthUnit="Item">
            <ComboBox.ItemsPanel>
                <ItemsPanelTemplate>
                    <VirtualizingStackPanel/>
                </ItemsPanelTemplate>
            </ComboBox.ItemsPanel>
        </ComboBox>

        <!-- Selected Info -->
        <Border Grid.Row="4" 
                Background="#F8F9FA"
                BorderBrush="#DEE2E6"
                BorderThickness="1"
                Padding="15"
                CornerRadius="5">
            <StackPanel>
                <TextBlock Text="Cliente Selecionado:" 
                           FontWeight="Bold" 
                           FontSize="14"
                           Margin="0,0,0,10"/>
                <TextBlock x:Name="SelectedClienteText"
                           Text="Nenhum cliente selecionado"
                           FontSize="12"
                           TextWrapping="Wrap"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
